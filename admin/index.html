<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>거리로 CMS</title>
  </head>
  <body>
    <script src="https://unpkg.com/netlify-cms@2.10.192/dist/netlify-cms.js"></script>

    <script>
      window.addEventListener('DOMContentLoaded', function () {
        if (typeof CMS === 'undefined') {
          console.error("CMS가 정의되지 않았습니다.");
          return;
        }

        CMS.init({
          config: {
            backend: {
              name: 'github',
              repo: 'sun23680/sun23680',
              branch: 'main'
            },
            media_folder: 'uploads',
            public_folder: '/uploads',
            collections: [
              {
                name: 'news',
                label: '뉴스',
                folder: 'content/news',
                create: true,
                slug: '{{year}}-{{month}}-{{day}}-{{slug}}',
                fields: [
                  { label: '제목', name: 'title', widget: 'string' },
                  { label: '날짜', name: 'date', widget: 'datetime' },
                  { label: '본문', name: 'body', widget: 'markdown' }
                ]
              }
            ]
          }
        });
      });
    </script>
  </body>
</html>
